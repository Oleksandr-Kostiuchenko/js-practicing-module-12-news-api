import{a as h,i as m}from"./assets/vendor-4yCzdkXl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();const S=async(t,e)=>await h.get(`https://api.thenewsapi.com/v1/news/all?api_token=tcUbeilVimWPJx0gGV8QbLAhmBB3OykRPLRi7H5Z&search=${t}&page=${e}&language=en`),R=new Date,v=R.toISOString().split("T")[0],b=async(t,e)=>await h.get(`https://api.thenewsapi.com/v1/news/all?api_token=tcUbeilVimWPJx0gGV8QbLAhmBB3OykRPLRi7H5Z&search=${t}&page=${e}&language=en&published_on=${v}&sort=published_on`),$=async(t,e,a)=>await h.get(`https://api.thenewsapi.com/v1/news/all?api_token=tcUbeilVimWPJx0gGV8QbLAhmBB3OykRPLRi7H5Z&search=${t}&page=${e}&language=en&categories=${a}`),E=async(t,e,a)=>await h.get(`https://api.thenewsapi.com/v1/news/all?api_token=tcUbeilVimWPJx0gGV8QbLAhmBB3OykRPLRi7H5Z&search=${t}&page=${e}&language=en&published_on=${v}&sort=published_on&categories=${a}`),B=t=>{const a=new Date(t.published_at).toISOString().split("T")[0];return`
    <li class="article-item">
        <a class="aricle-title" href="${t.url}" target="_blank">${t.title} - ${t.source}</a>

        <img class="article-image" src="${t.image_url}" alt="news-image">

        <p class="article-description">${t.description}</p>
        <p class="article-content">${t.snippet}</p>

        <p class="article-date">${a}</p>
    </li>
    `},q=document.querySelector(".news-form"),D=document.querySelector(".news-input");document.querySelector(".search-news-btn");const p=document.querySelector(".news-list"),c=document.querySelector(".load-more-btn"),y=document.querySelector(".loader"),w=document.querySelector(".loader-more"),P=document.querySelector("#theme-switch");let u=!1;const M=t=>{P.checked?u=!0:u=!1};P.addEventListener("click",M);const L=document.querySelector(".category-select");let n="default";L.addEventListener("input",t=>{n=L.value});let o=1,i,d;const k=async t=>{if(t.preventDefault(),c.classList.add("is-hidden"),o=1,i=D.value.trim(),localStorage.setItem("userQuery",i),i===""){m.error({title:"Error",titleSize:"35",message:"Please fill the gap!",messageSize:"30",position:"bottomRight"});return}try{y.classList.remove("hidden");let e;if(u&&n!=="default"?e=await E(i,o,n):u?e=await b(i,o):n!=="default"?e=await $(i,o,n):e=await S(i,o),y.classList.add("hidden"),e.data.meta.found===0){m.error({title:"Error",titleSize:"25",message:"Sorry, there are no images matching your search query. Please try again!",messageSize:"15",position:"bottomRight"});return}p.innerHTML="";const a=[];if(e.data.data.forEach(l=>{a.push(B(l))}),p.insertAdjacentHTML("beforeend",a.join("")),window.scrollBy({top:500,left:0,behavior:"smooth"}),d=Math.ceil(e.data.meta.found/3),m.success({message:`Sucess! ${d*a.length} news are found!`,messageSize:"30",position:"bottomRight"}),d<=1)return;if(o<=d){if(o===d){loadMoreBtn.classList.add("is-hidden"),c.addEventListener("click",g);return}c.classList.remove("is-hidden"),c.removeEventListener("click",g),c.addEventListener("click",g)}}catch{m.error({message:"Sorry! Something went wrong(",messageSize:"30",position:"bottomRight"});return}},g=async t=>{try{o++,w.classList.remove("hidden");let e;u&&n!=="default"?e=await E(i,o,n):u?e=await b(i,o):n!=="default"?e=await $(i,o,n):e=await S(i,o),w.classList.add("hidden");const a=[];e.data.data.forEach(s=>{a.push(B(s))}),p.insertAdjacentHTML("beforeend",a.join(""));const r=document.querySelector(".article-item").getBoundingClientRect();if(window.scrollBy({top:r.height,left:0,behavior:"smooth"}),o===d){m.info({title:"",titleSize:"25",message:"We're sorry, but you've reached the end of search results.",messageSize:"20",position:"bottomRight"}),c.classList.add("is-hidden"),c.removeEventListener("click",g);return}}catch(e){console.log(e)}},_=()=>{const t=localStorage.getItem("userQuery");t!==null&&(D.value=t,k(new Event("submit")))};_();q.addEventListener("submit",k);
//# sourceMappingURL=index.js.map

import{a as h,i as u}from"./assets/vendor-4yCzdkXl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const S=async(t,e)=>await h.get(`https://api.thenewsapi.com/v1/news/all?api_token=tcUbeilVimWPJx0gGV8QbLAhmBB3OykRPLRi7H5Z&search=${t}&page=${e}&language=en`),$=async(t,e)=>await h.get(`https://api.thenewsapi.com/v1/news/all?api_token=tcUbeilVimWPJx0gGV8QbLAhmBB3OykRPLRi7H5Z&search=${t}&page=${e}&language=en&sort=published_on`),k=async(t,e,s)=>await h.get(`https://api.thenewsapi.com/v1/news/all?api_token=tcUbeilVimWPJx0gGV8QbLAhmBB3OykRPLRi7H5Z&search=${t}&page=${e}&language=en&categories=${s}`),P=async(t,e,s)=>await h.get(`https://api.thenewsapi.com/v1/news/all?api_token=tcUbeilVimWPJx0gGV8QbLAhmBB3OykRPLRi7H5Z&search=${t}&page=${e}&language=en&sort=published_on&categories=${s}`),b=t=>`
    <li class="article-item">
        <a class="aricle-title" href="${t.url}" target="_blank">${t.title} - ${t.source}</a>

        <img class="article-image" src="${t.image_url}" alt="news-image">

        <p class="article-description">${t.description}</p>
        <p class="article-content">${t.snippet}</p>

        <p class="article-date">${t.published_at}</p>
    </li>
    `,R=document.querySelector(".news-form"),E=document.querySelector(".news-input");document.querySelector(".search-news-btn");const y=document.querySelector(".news-list"),l=document.querySelector(".load-more-btn"),w=document.querySelector(".loader"),L=document.querySelector(".loader-more"),f=document.querySelector("#theme-switch");let m=!1;const q=t=>{console.log(f.checked),f.checked?m=!0:m=!1};f.addEventListener("click",q);const v=document.querySelector(".category-select");let d="default";v.addEventListener("input",t=>{d=v.value,console.log(d)});let a=1,i,c;const B=async t=>{if(t.preventDefault(),l.classList.add("is-hidden"),a=1,i=E.value.trim(),localStorage.setItem("userQuery",i),i===""){u.error({title:"Error",titleSize:"35",message:"Please fill the gap!",messageSize:"30",position:"bottomRight"});return}try{w.classList.remove("hidden");let e;if(m&&d!=="default"?e=await P(i,a,d):m?e=await $(i,a):d!=="default"?e=await k(i,a,d):e=await S(i,a),w.classList.add("hidden"),e.data.meta.found===0){u.error({title:"Error",titleSize:"25",message:"Sorry, there are no images matching your search query. Please try again!",messageSize:"15",position:"bottomRight"});return}console.log(e.data.data),y.innerHTML="";const s=[];if(e.data.data.forEach(n=>{s.push(b(n))}),console.log(s),y.insertAdjacentHTML("beforeend",s.join("")),window.scrollBy({top:500,left:0,behavior:"smooth"}),c=Math.ceil(e.data.meta.found/3),u.success({message:`Sucess! ${c*s.length} news are found!`,messageSize:"30",position:"bottomRight"}),c<=1)return;if(a<=c){if(a===c){loadMoreBtn.classList.add("is-hidden"),l.addEventListener("click",g);return}l.classList.remove("is-hidden"),l.removeEventListener("click",g),l.addEventListener("click",g)}}catch(e){u.error({message:"Sorry! Something went wrong(",messageSize:"30",position:"bottomRight"}),console.log(e);return}},g=async t=>{try{a++,console.log(a),L.classList.remove("hidden");const e=await S(i,a);L.classList.add("hidden");const s=[];e.data.data.forEach(o=>{s.push(b(o))}),y.insertAdjacentHTML("beforeend",s.join(""));const r=document.querySelector(".article-item").getBoundingClientRect();if(window.scrollBy({top:r.height,left:0,behavior:"smooth"}),a===c){u.info({title:"",titleSize:"25",message:"We're sorry, but you've reached the end of search results.",messageSize:"20",position:"bottomRight"}),l.classList.add("is-hidden"),l.removeEventListener("click",g);return}}catch(e){console.log(e)}},D=()=>{const t=localStorage.getItem("userQuery");t!==null&&(E.value=t,B(new Event("submit")))};D();R.addEventListener("submit",B);
//# sourceMappingURL=index.js.map
